<ul class="dataset-list unstyled pending-requests-list">
  {% for req in requests %}
    <li class="dataset-item">
      <div class="dataset-content">
        <h3>
          {{ h.link_to(req.user.fullname or req.user.name, h.url_for('user.read', id=req.user.id, qualified=True)) }}
          requested {{ req.role }} access to {{ req.object_type }}
          {% if req.object_type == 'dataset' %}
            {{ h.link_to(req.object.title or req.object.name, h.url_for('dataset_read', id=req.object.name, qualified=True)) }}
          {% elif req.object_type == 'container' %}
            {{ h.link_to(req.object.title or req.object.name, h.url_for('data-container_read', id=req.object.name, qualified=True)) }}
          {% else %}
            &nbsp;
          {% endif %}
          <small>({{ h.render_datetime(req.timestamp, '%Y-%m-%d') }})</small>
        </h3>
        <p>{{ h.nl_to_br(req.message) }}</p>
      </div>
      <p>
        <a
          class="btn btn-primary"
          href="{{ h.url_for('unhcr_access_requests.access_requests_approve', request_id=req.id, qualified=True) }}"
          title="Approve"
        >
          Approve
        </a>
        <a
          class="btn btn-danger"
          href="{{ h.url_for('unhcr_access_requests.access_requests_reject', request_id=req.id, qualified=True) }}"
          title="Reject"
        >
          Reject
        </a>
      </p>
    </li>
  {% endfor %}
</ul>
